{% style %}
  #shopify-section-{{ section.id }} .manifesto {
    --mf-bg:           {{ section.settings.background_color }};
    --mf-quote1:       {{ section.settings.quote_color_1 }};
    --mf-quote2:       {{ section.settings.quote_color_2 }};
    --mf-body:         {{ section.settings.body_color }};
    --mf-divider:      {{ section.settings.divider_color }};
  }
{% endstyle %}

<div class="manifesto full-width">
  <div class="manifesto__grid-bg" aria-hidden="true"></div>

  <div class="manifesto__inner">
    <span class="divider-line manifesto__divider fade-up" data-delay="1" aria-hidden="true"></span>

    <blockquote class="manifesto__quote">
      {%- if section.settings.quote_line1 != blank -%}
        <span class="manifesto__line1 fade-up" data-delay="2">
          {{- section.settings.quote_line1 -}}
        </span>
      {%- endif -%}
      {%- if section.settings.quote_line2 != blank -%}
        <span class="manifesto__line2 fade-up" data-delay="3">
          {{- section.settings.quote_line2 -}}
        </span>
      {%- endif -%}
    </blockquote>

    {%- if section.settings.body_text != blank -%}
      <p class="manifesto__body fade-up" data-delay="4">
        {{ section.settings.body_text }}
      </p>
    {%- endif -%}

    <span class="divider-line manifesto__divider fade-up" data-delay="4" aria-hidden="true"></span>

    {%- if section.settings.cta_text != blank -%}
      <div class="manifesto__cta fade-up" data-delay="5">
        <a href="{{ section.settings.cta_url | default: '#' }}" class="btn btn--primary">
          {{ section.settings.cta_text }}
        </a>
      </div>
    {%- endif -%}
  </div>
</div>

{% stylesheet %}
  .manifesto {
    background-color: var(--mf-bg, #2d3a18);
    position: relative;
    overflow: hidden;
    padding: 100px var(--page-margin);
  }

  .manifesto__grid-bg {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(200, 169, 110, 0.04) 1px, transparent 1px),
      linear-gradient(90deg, rgba(200, 169, 110, 0.04) 1px, transparent 1px);
    background-size: 48px 48px;
    pointer-events: none;
  }

  .manifesto__inner {
    position: relative;
    z-index: 1;
    max-width: 900px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 36px;
  }

  .manifesto__divider {
    background: var(--mf-divider, #c8a96e);
  }

  .manifesto__quote {
    font-family: var(--font-heading);
    font-size: clamp(42px, 7vw, 88px);
    line-height: 1;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.05em;
  }

  .manifesto__line1 {
    color: var(--mf-quote1, #faf8f4);
    display: block;
  }

  .manifesto__line2 {
    color: var(--mf-quote2, #c8a96e);
    display: block;
  }

  .manifesto__body {
    font-family: var(--font-body);
    font-size: 17px;
    font-weight: 300;
    color: var(--mf-body, #e8d5b0);
    line-height: 1.7;
    max-width: 600px;
  }

  @media (max-width: 768px) {
    .manifesto { padding: 72px var(--page-margin); }
    .manifesto__quote { font-size: clamp(36px, 10vw, 60px); }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Manifesto",
  "settings": [
    {
      "type": "header",
      "content": "Quote"
    },
    {
      "type": "text",
      "id": "quote_line1",
      "label": "Quote — line 1 (white)",
      "default": "Don't Just Rock On."
    },
    {
      "type": "text",
      "id": "quote_line2",
      "label": "Quote — line 2 (tan)",
      "default": "Ruck On."
    },
    {
      "type": "header",
      "content": "Body"
    },
    {
      "type": "textarea",
      "id": "body_text",
      "label": "Body paragraph",
      "default": "We don't make gear for the gym. We make gear for the grind — the 20-mile ruck, the 4am alarm, the weight that never comes off. Built by ruckers. Tested in the field. Made to last a lifetime."
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "Button label",
      "default": "Read Our Story"
    },
    {
      "type": "url",
      "id": "cta_url",
      "label": "Button URL"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#2d3a18"
    },
    {
      "type": "color",
      "id": "quote_color_1",
      "label": "Quote line 1 color",
      "default": "#faf8f4"
    },
    {
      "type": "color",
      "id": "quote_color_2",
      "label": "Quote line 2 color",
      "default": "#c8a96e"
    },
    {
      "type": "color",
      "id": "body_color",
      "label": "Body text color",
      "default": "#e8d5b0"
    },
    {
      "type": "color",
      "id": "divider_color",
      "label": "Divider line color",
      "default": "#c8a96e"
    }
  ],
  "presets": [
    {
      "name": "Manifesto"
    }
  ]
}
{% endschema %}
